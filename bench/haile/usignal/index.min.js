(()=>{var{is:b}=Object,w;var C=class{constructor(e){this._=e}toJSON(){return this.value}toString(){return String(this.value)}valueOf(){return this.value}},p,g=class extends C{s;constructor(e,t,o,a){super(e),this.f=a,this.$=!0,this.r=new Set,this.s=new y(t,o)}peek(){return this.s.peek()}get value(){if(this.$){let e=p;p=this;try{this.s.value=this._(this.s._)}finally{this.$=!1,p=e}}return this.s.value}},k={async:!1,equals:!0};var h,q=[],j=()=>{},S=({s:n})=>{typeof n._=="function"&&(n._=n._())},_=class extends g{constructor(e,t,o){super(e,t,o,!0),this.e=q}run(){return this.$=!0,this.value,this}stop(){this._=j,this.r.clear(),this.s.c.clear()}},x=class extends _{constructor(e,t,o){super(e,t,o),this.i=0,this.a=!!o.async,this.m=!0,this.e=[]}get value(){this.a?this.async():this.sync()}async(){this.m&&(this.m=!1,queueMicrotask(()=>{this.m=!0,this.sync()}))}sync(){let e=h;(h=this).i=0,S(this),super.value,h=e}stop(){super.stop(),S(this);for(let e of this.e.splice(0))e.stop()}},F=(n,e,t=k)=>{let o;if(h){let{i:a,e:u}=h,s=a===u.length;(s||u[a]._!==n)&&(s||u[a].stop(),u[a]=new x(n,e,t).run()),o=u[a],h.i++}else o=new x(n,e,t).run();return()=>{o.stop()}},z=()=>!1,y=class extends C{constructor(e,{equals:t}){super(e),this.c=new Set,this.s=t===!0?b:t||z}peek(){return this._}get value(){return p&&(this.c.add(p),p.r.add(this)),this._}set value(e){let t=this._;if(!this.s(this._=e,t)&&this.c.size){let o=[],a=[this];for(let u of a)for(let s of u.c)if(!s.$&&s.r.has(u))if(s.r.clear(),s.$=!0,s.f){o.push(s);let v=[s];for(let l of v)for(let $ of l.e)$.r.clear(),$.$=!0,v.push($)}else a.push(s.s);for(let u of o)w?w.push(u):u.value}}},O=(n,e=k)=>new y(n,e);var D={async:!0},f=(n,e)=>F(n,e,D);function N(){return performance.now()}var r=1e6,T=[];function m(n){T.push(n)}E();console.log(T.join(`
`));function E(){var n=0;n+=c(d,r,r),n+=c(U,r,0),n+=c(I,r,r),n+=c(K,r/2,r),n+=c(L,r/4,r),n+=c(P,r/1e3,r),n+=c(H,r,r/2),n+=c(G,r,r/4),n+=c(B,r,r/8),n+=c(A,r,r/1e3),m("---");var e=0;e+=c(Y,r*4,1),e+=c(Z,r*2,2),e+=c(X,r,4),e+=c(tt,r/100,1e3),e+=c(et,r*4,1),e+=c(nt,r*4,1),e+=c(ot,r*4,1),m("---"),m(`create total: ${n.toFixed(0)}`),m(`update total: ${e.toFixed(0)}`),m(`total: ${(n+e).toFixed(0)}`)}function c(n,e,t){var o=M(n,e,t);return J(n.name,{ms:o,mem:0}),o}function J(n,e){m(`${n.padEnd(30)} ${e.ms.toFixed(1).padStart(5)} ${(e.mem/1e3).toFixed(0).padStart(10)}`)}function M(n,e,t){var o,a;function u(){var v=d(t,[]);n(e/100,v),v=d(t,[]),n(e/100,v),v=d(t,[]),n(e/100,v),v=d(t,[]);for(var l=0;l<t;l++)v[l].value,v[l].value,v[l].value}u();var s=d(t,[]);return o=N(),n(e,s),a=N(),s=null,a-o}function d(n,e){for(var t=0;t<n;t++)e[t]=O(t);return e}function U(n,e){for(var t=0;t<n;t++)Q(t)}function A(n,e){for(var t=0;t<n/1e3;t++)for(var o=0;o<1e3;o++)i(e[t])}function B(n,e){for(var t=0;t<n/8;t++)i(e[t]),i(e[t]),i(e[t]),i(e[t]),i(e[t]),i(e[t]),i(e[t]),i(e[t])}function G(n,e){for(var t=0;t<n/4;t++)i(e[t]),i(e[t]),i(e[t]),i(e[t])}function H(n,e){for(var t=0;t<n/2;t++)i(e[t]),i(e[t])}function I(n,e){for(var t=0;t<n;t++)i(e[t])}function K(n,e){for(var t=0;t<n;t++)R(e[t*2],e[t*2+1])}function L(n,e){for(var t=0;t<n;t++)V(e[t*4],e[t*4+1],e[t*4+2],e[t*4+3])}function P(n,e){for(var t=0;t<n;t++)W(e,t*1e3)}function Q(n){f(function(){return n})}function i(n){f(function(){return n.value})}function R(n,e){f(function(){return n.value+e.value})}function V(n,e,t,o){f(function(){return n.value+e.value+t.value+o.value})}function W(n,e){f(function(){for(var t=0,o=0;o<1e3;o++)t+=n[e+o].value;return t})}function Y(n,e){var t=e[0];f(function(){return t.value});for(var o=0;o<n;o++)t.value=o}function Z(n,e){var t=e[0],o=e[1];f(function(){return t.value+o.value});for(var a=0;a<n;a++)t.value=a}function X(n,e){var t=e[0],o=e[1],a=e[2],u=e[3];f(function(){return t.value+o.value+a.value+u.value});for(var s=0;s<n;s++)t.value=s}function tt(n,e){var t=e[0];f(function(){for(var a=0,u=0;u<1e3;u++)a+=e[u].value;return a});for(var o=0;o<n;o++)t.value=o}function et(n,e){var t=e[0];f(function(){return t.value}),f(function(){return t.value});for(var o=0;o<n/2;o++)t.value=o}function nt(n,e){var t=e[0];f(function(){return t.value}),f(function(){return t.value}),f(function(){return t.value}),f(function(){return t.value});for(var o=0;o<n/4;o++)t.value=o}function ot(n,e){for(var t=e[0],o=0;o<1e3;o++)f(function(){return t.value});for(var o=0;o<n/1e3;o++)t.value=o}})();
/*! Bundled license information:

usignal/esm/index.js:
  (*! (c) Andrea Giammarchi *)
*/
