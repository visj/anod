(function(){function T(t){var i,n,r=f.E,e=f.n,a=f.i;t.length===0?i=r:(i=new S,r!==null&&r.m(i),n=function(){i.dispose()}),f.i=null,f.E=f.n=i;try{return t(n)}finally{f.E=r,f.n=e,f.i=a}}function A(t,i){return new y(t,i)}function h(t,i,n,r){return new p(t,i,0,n,r).O()}function x(){this.g=[],this.h=0,this.r=0}x.prototype.w=function(t){this.g[this.r++]=t};x.prototype.p=function(){for(;this.h<this.r;this.h++)this.g[this.h].p(),this.g[this.h]=null;this.r=this.h=0};x.prototype.l=function(t){for(;this.h<this.r;this.h++){var i=this.g[this.h];i.t&2?i.l(t):i.t&=-3099,this.g[this.h]=null}this.r=this.h=0};var O={},g=1,c=0,R=new x,E=new x,U=new x,b=new x,f={E:null,n:null,i:null};function D(t){throw new Error(t)}function k(){R.r=E.r=U.r=b.r=0}function I(t,i){var n=-1,r=i.v===null?-1:i.s===null?0:i.s.length;t.c===null?(t.c=i,t.S=r,t.t|=64):t.o===null?(n=0,t.o=[i],t.x=[r],t.t|=128):(n=t.o.length,t.o[n]=i,t.x[n]=r,t.t|=128),i.v===null?(i.v=t,i.M=n,i.t|=256):i.s===null?(i.s=[t],i.d=[n],i.t|=512):(i.s[r]=t,i.d[r]=n,i.t|=512)}function J(){var t=f.n,i=f.i;try{V()}finally{c=0,f.n=t,f.i=i}}function V(){for(var t=0,i=0,n=R,r=E,e=U,a=b;r.r!==0||n.r!==0||e.r!==0||a.r!==0;)t=++g,n.r!==0&&(c=2,n.p()),r.r!==0&&(c=3,r.l(t)),e.r!==0&&(c=4,e.l(t)),a.r!==0&&(c=5,a.l(t)),i++>1e5&&D("cycle detected")}function W(){this.t&5||(c===0?this.p():R.w(this))}function j(t){var i=0,n=0,r=t.t;if(r&32){var e=t.f;for(n=e.length;i<n;i++)e[i].p();t.f=null}if(r&16384){var a=t.y;for(i=0,n=a.length;i<n;i++)a[i](!0);t.y=null}}function N(t){this.t|=32,this.f===null?this.f=[t]:this.f[this.f.length]=t}function P(t){this.t|=16384,this.y===null?this.y=[t]:this.y[this.y.length]=t}function w(){}w.prototype.val=function(){return f.i!==null&&!(this.t&5)&&I(this,f.i),this.a};w.prototype.peek=function(){return this.a};w.prototype.dispose=W;function S(){this.t=0,this.f=[],this.y=null}S.prototype.dispose=W;S.prototype.m=N;S.prototype.T=P;S.prototype.p=function(){this.t!==4&&(j(this),this.t=4)};function G(t){var i=t.t;if(i&64&&($(t.c,t.S),t.c=null),i&128)for(var n=t.o.length;n-- >0;)$(t.o[n],t.x[n]);t.D=t.o=t.x=null}function F(t,i){if(t.t!==4)if(i===-1)t.c=null,t.t&=-65;else{var n=t.o,r=t.x,e=n.pop(),a=r.pop(),o=n.length;i!==o&&(n[i]=e,r[i]=a,a===-1?e.M=i:e.d[a]=i),o===0&&(t.t&=-129)}}function $(t,i){var n=t.t;if(n!==4)if(i===-1)t.v=null,t.t&=-257;else{var r=t.s,e=t.d,a=r.pop(),o=e.pop(),v=r.length;i!==v&&(r[i]=a,e[i]=o,o===-1?a.S=i:a.x[o]=i),v===0&&(t.t&=-513)}}function m(t,i){var n=t.t,r=t.c;if(n&64&&(r.e<i&&(r.e=i,r.t&=-3099),r.t&3||r.U(i)),n&128)for(var e=t.o,a=e.length,o=0;o<a;o++)r=e[o],r.e<i&&(r.e=i,r.t&=-3099),r.t&3||r.U(i)}function H(t,i){var n=t.t,r=t.c;if(n&64&&(r.e<i&&(r.e=i,r.t&=-3099),r.t&11||r.b(i)),n&128)for(var e=t.o,a=e.length,o=0;o<a;o++)r=e[o],r.e<i&&(r.e=i,r.t&=-3099),r.t&11||r.b(i)}function Q(t,i){for(var n=t.f,r=0,e=n.length;r<e;r++){var a=n[r];a.e<i&&(a.e=i,a.t&=-3099),a.t&192&&a.t&768&&!(a.t&21)&&(a.n=t,a.$(i))}}function X(t){for(var i=t.length,n=0;n<i;n++){var r=t[n];r.t&5||r.F()}}function y(t,i){this.t=i===void 0?0:i===null?4096:8192,this.a=t,this.D=i,this.c=null,this.S=-1,this.o=null,this.x=null,this.u=O}y.prototype=new w;y.constructor=y;y.prototype.update=function(t){var i=this.t;i&5||(i&4096||(i&8192?!this.D(t,this.a):t!==this.a))&&(c===0?(k(),this.a=t,m(this,g+1),J()):(this.u!==O&&t!==this.u&&D("conflicting values"),this.u=t,this.t|=2,E.w(this)))};y.prototype.p=function(){this.t!==4&&(G(this),this.a=this.u=null,this.t=4)};y.prototype.l=function(t){this.a=this.u,this.u=O,this.t&=-3,m(this,t)};y.prototype.F=function(){this.t=1};function _(t){var i=t.t;if(i&256&&(F(t.v,t.M),t.v=null),i&512)for(var n=t.s.length;n-- >0;)F(t.s.pop(),t.d.pop());t.t&=-769}function p(t,i,n,r,e){this.t=n|(r===null?4096:r!==void 0?8192:0),this.a=i,this.D=r,this.c=null,this.S=-1,this.o=null,this.x=null,this.u=t,this.f=null,this.y=null,this.n=null,this.e=0,this.v=null,this.M=0,this.s=null,this.d=null,this.R=e}p.prototype=new w;p.constructor=p;p.prototype.m=N;p.prototype.T=P;p.prototype.val=function(){var t=this.t;if(!(t&5)){var i=g,n=c;n!==0&&this.e===i&&(t&2?t&16?this.C(i):t&2&&this.l(i):n===4&&t&24&&this.C(i)),f.i!==null&&!(this.t&5)&&I(this,f.i)}return this.a};p.prototype.peek=function(){return!(this.t&5)&&this.t&26&&c!==0&&this.e===g&&this.C(g),this.a};p.prototype.p=function(){this.t!==4&&(j(this),G(this),_(this),this.a=this.u=this.R=this.s=this.d=null,this.t=4)};p.prototype.l=function(t){var i=0,n=0,r=f.n,e=f.i;f.n=f.i=null;var a=this.t;if(a&32){var o=this.f;for(n=o.length;i<n;i++)o[i].p();o.length=0,this.t&=-33}if(a&16384){var v=this.y;for(n=v.length,i=0;i<n;i++)v[i](!1);v.length=0,this.t&=-16385}f.n=this,a&32768&&(_(this),f.i=this);var M=this.a;this.t|=1024,this.a=this.u(M,this.R),this.t&=-3099,!(a&4096)&&a&192&&(a&8192?!this.D(M,this.a):M!==this.a)&&m(this,t),f.n=r,f.i=e};p.prototype.O=function(){var t=f.n,i=f.i;if(t!==null&&t.m(this),f.n=f.i=this,c===0){k(),c=1;try{this.a=this.u(this.a,this.R),(E.r>0||R.r>0)&&V()}finally{c=0,f.n=f.i=null}}else this.a=this.u(this.a,this.R),f.n=t,f.i=i;return this};p.prototype.F=function(){this.t=(this.t|1)&-3,(this.t&34)===32&&X(this.f)};p.prototype.$=function(t){this.t|=16,(this.t&40)===32&&Q(this,t)};p.prototype.b=function(t){this.t|=8,(this.t&48)===32&&Q(this,t),this.t&192&&H(this,t)};p.prototype.U=function(t){var i=this.t;this.t|=2,i&32&&X(this.f),!(i&4096)&&i&192?(U.w(this),i&8||H(this,t)):(b.w(this),i&192&&m(this,t))};p.prototype.C=function(t){this.t&2048&&D("cyclic dependency"),this.t|=2048,this.t&16&&(this.n.C(t),this.n=null);t:if((this.t&13)===8){if(this.t&256){var i=this.v;if(i.e===t&&i.t&8&&(this.v.C(t),this.t&3))break t}if(this.t&512){for(var n=this.s,r=n.length,e=0;e<r;e++)if(i=n[e],i.e===t&&i.t&8&&(i.C(t),this.t&3))break t}}this.t&=-2073,this.t&2&&(this.t&1024&&D("cyclic dependency"),this.l(t))};function z(){return performance.now()}var u=1e6,B=[];function d(t){B.push(t)}K();console.log(B.join("\n"));function K(){var t=0;t+=s(C,u,u),t+=s(Z,u,0),t+=s(rt,u,u),t+=s(at,u/2,u),t+=s(et,u/4,u),t+=s(ot,u/1e3,u),t+=s(nt,u,u/2),t+=s(it,u,u/4),t+=s(tt,u,u/8),t+=s(q,u,u/1e3),d("---");var i=0;i+=s(pt,u*4,1),i+=s(lt,u*2,2),i+=s(vt,u,4),i+=s(ct,u/100,1e3),i+=s(yt,u*4,1),i+=s(xt,u*4,1),i+=s(dt,u*4,1),d("---"),d("create total: ".concat(t.toFixed(0))),d("update total: ".concat(i.toFixed(0))),d("total: ".concat((t+i).toFixed(0)))}function s(t,i,n){var r=Y(t,i,n);return L(t.name,{ms:r,mem:0}),r}function L(t,i){d("".concat(t.padEnd(30)," ").concat(i.ms.toFixed(1).padStart(5)," ").concat((i.mem/1e3).toFixed(0).padStart(10)))}function Y(t,i,n){var r,e;return T(function(a){var o=C(n,[]);t(i/100,o),o=C(n,[]),t(i/100,o),o=C(n,[]),t(i/100,o),o=C(n,[]);for(var v=0;v<n;v++)o[v].val(),o[v].val(),o[v].val();a()}),T(function(a){var o=C(n,[]);r=z(),t(i,o),e=z(),o=null,a()}),e-r}function C(t,i){for(var n=0;n<t;n++)i[n]=A(n);return i}function Z(t,i){for(var n=0;n<t;n++)ft(n)}function q(t,i){for(var n=0;n<t/1e3;n++)for(var r=0;r<1e3;r++)l(i[n])}function tt(t,i){for(var n=0;n<t/8;n++)l(i[n]),l(i[n]),l(i[n]),l(i[n]),l(i[n]),l(i[n]),l(i[n]),l(i[n])}function it(t,i){for(var n=0;n<t/4;n++)l(i[n]),l(i[n]),l(i[n]),l(i[n])}function nt(t,i){for(var n=0;n<t/2;n++)l(i[n]),l(i[n])}function rt(t,i){for(var n=0;n<t;n++)l(i[n])}function at(t,i){for(var n=0;n<t;n++)ut(i[n*2],i[n*2+1])}function et(t,i){for(var n=0;n<t;n++)ht(i[n*4],i[n*4+1],i[n*4+2],i[n*4+3])}function ot(t,i){for(var n=0;n<t;n++)st(i,n*1e3)}function ft(t){h(function(){return t})}function l(t){h(function(){return t.val()})}function ut(t,i){h(function(){return t.val()+i.val()})}function ht(t,i,n,r){h(function(){return t.val()+i.val()+n.val()+r.val()})}function st(t,i){h(function(){for(var n=0,r=0;r<1e3;r++)n+=t[i+r].val();return n})}function pt(t,i){var n=i[0];h(function(){return n.val()});for(var r=0;r<t;r++)n.update(r)}function lt(t,i){var n=i[0],r=i[1];h(function(){return n.val()+r.val()});for(var e=0;e<t;e++)n.update(e)}function vt(t,i){var n=i[0],r=i[1],e=i[2],a=i[3];h(function(){return n.val()+r.val()+e.val()+a.val()});for(var o=0;o<t;o++)n.update(o)}function ct(t,i){var n=i[0];h(function(){for(var e=0,a=0;a<1e3;a++)e+=i[a].val();return e});for(var r=0;r<t;r++)n.update(r)}function yt(t,i){var n=i[0];h(function(){return n.val()}),h(function(){return n.val()});for(var r=0;r<t/2;r++)n.update(r)}function xt(t,i){var n=i[0];h(function(){return n.val()}),h(function(){return n.val()}),h(function(){return n.val()}),h(function(){return n.val()});for(var r=0;r<t/4;r++)n.update(r)}function dt(t,i){for(var n=i[0],r=0;r<1e3;r++)h(function(){return n.val()});for(var r=0;r<t/1e3;r++)n.update(r)}})();
