var anod=(function(){var g;function k(){this.N=[];this.i=0}function m(a,b){a.N[a.i++]=b}function aa(a,b){for(var c=a.N,d=0;d<a.i;d++)c[d].J(b),c[d]=null;a.i=0}function ba(a){for(var b=n,c=b.N,d=0;d<b.i;d++){var e=c[d],f=a,h=e.g;if(h&64){var l=e.D;l.u<f&&l.B<f&&l.S(f)}if(h&128){e=e.v;h=e.length;for(var G=0;G<h;G++)l=e[G],l.u<f&&l.B<f&&l.S(f)}c[d]=null}b.i=0}function ca(a,b){for(var c=a.N,d=0;d<a.i;d++){var e=c[d];e.g&32&&e.J(b);c[d]=null}a.i=0}var p={},q=1,r=new k,t=new k,n=new k,u=new k,v=new k,w=new k,x={s:!0,l:null, m:null};function y(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function z(){r.i=t.i=u.i=v.i=w.i=0}function A(a,b){var c=b.F,d=b.A,e=-1,f=null===c?-1:null===d?0:d.length;!(b.g&65536)&&0<=f&&(c===a||0<f&&(1===f?d[0]===a:d[f-1]===a||d[f-2]===a))||(null===a.D?(a.D=b,a.O=f,a.g|=64):(null===a.v?(e=0,a.v=[b],a.I=[f]):(e=a.v.length,a.v[e]=b,a.I[e]=f),a.g|=128),null===b.F?(b.F=a,b.R=e,b.g|=256):(null===b.A?(b.A=[a],b.G=[e]):(b.A[f]=a,b.G[f]=e),b.g|=512))}function B(){var a=x.l,b= x.m;x.s=!1;try{C()}finally{x.s=!0,x.l=a,x.m=b}}function C(){for(var a,b=0;0!==t.i||0!==n.i||0!==u.i||0!==w.i||0!==v.i||0!==r.i;){a=++q;if(0!==r.i){for(var c=r,d=c.N,e=0;e<c.i;e++)d[e].L(),d[e]=null;c.i=0}0!==t.i&&aa(t,a);0!==n.i&&ba(a);0!==u.i&&ca(u,a);0!==v.i&&ca(v,a);0!==w.i&&aa(w,a);if(1E5<b++)throw Error("Runaway clock detected");}}function D(a,b){var c,d=a.g;if(d&16384){var e=a.j;for(c=e.length-1;0<=c;c--)e[c].L();a.g&=-16385;b?a.j=null:e.length=0}if(d&32768){d=a.K;for(c=d.length-1;0<=c;c--)d[c](!0); a.g&=-32769;b?a.K=null:d.length=0}}function E(){}E.prototype.dispose=function(){this.g&13||(x.s?this.L():(this.g|=8,m(r,this)))};function F(){}y(F,E);F.prototype.peek=function(){return this.h};function H(a){this.g=0;this.j=[];this.K=null;var b=x.l,c=x.m;x.l=this;x.m=null;try{a()}finally{x.l=b,x.m=c}}y(H,E);H.prototype.L=function(){1!==this.g&&(D(this,!0),this.g=1)};function da(a){var b=x.l;b.g|=16384;null===b.j?b.j=[a]:b.j.push(a)}function I(a){var b=a.g;b&64&&(ea(a.D,a.O),a.D=null);if(b&128)for(b= a.v.length;b--;)ea(a.v[b],a.I[b]);a.M=a.v=a.I=null}function fa(a,b){if(1!==a.g)if(-1===b)a.D=null,a.g&=-65;else{var c=a.v,d=a.I,e=c.pop(),f=d.pop(),h=c.length;b!==h&&(c[b]=e,d[b]=f,-1===f?e.R=b:e.G[f]=b);0===h&&(a.g&=-129)}}function ea(a,b){if(1!==a.g){if(-1===b)a.F=null,a.g&=-257;else{var c=a.A,d=a.G,e=c.pop(),f=d.pop(),h=c.length;b!==h&&(c[b]=e,d[b]=f,-1===f?e.O=b:e.I[f]=b);0===h&&(a.g&=-513)}a.g&768||a.P()}}function ha(a,b){for(var c=a.length,d=0;d<c;d++){var e=a[d];e.u<b&&e.H<b&&e.U(b)}}function ia(a, b){for(var c=a.length,d=0;d<c;d++){var e=a[d];e.g&5||e.V(b)}}function J(a,b){var c=a.g;c&64&&a.D.u<b&&a.D.T(b);if(c&128){c=a.v;for(var d=c.length,e=0;e<d;e++)a=c[e],a.u<b&&a.T(b)}}function K(a,b){var c=a.g;c&256&&(fa(a.F,a.R),a.F=null);if(c&512){c=a.A.length;for(var d=0;d<c;d++)fa(a.A[d],a.G[d]);b?(a.A=null,a.G=null):(a.A.length=0,a.G.length=0)}a.g&=-769}function L(a,b){var c=a.g;if(c&1024)throw Error("Circular dependency");if(c&32&&a.H<b)a.J(b);else if(c&50&&(a.B===b||a.H===b)){if(c&2048)throw Error("Circular clearing dependency"); a.g|=2048;a.g&2&&a.H===b&&(a.g&=-3,c=a.l,c.g&50&&L(c,b));a:if(16===(a.g&53)&&a.B===b){if(a.g&256){var d=a.F;c=d.g;if(c&32||c&16&&d.B===b)if(L(d,b),a.g&36)break a}if(a.g&512)for(var e=a.A,f=e.length,h=0;h<f;h++)if(d=e[h],c=d.g,c&32||c&16&&d.B===b)if(L(d,b),a.g&36)break a}a.g&=-2067;a.g&32&&a.J(b)}}function M(a,b,c){c=65568|c;null!=b&&b.unstable&&(c|=131072);this.g=c;this.l=this.K=this.j=null;this.o=a;this.F=null;this.R=0;this.G=this.A=null;this.H=this.B=this.u=0;null!==x.l&&da(this)}y(M,H);g=M.prototype; g.L=function(){var a=this.g;1!==a&&(a&49152&&D(this,!0),a&768&&K(this,!0),this.o=null,this.g=1)};g.P=function(){this.o=this.l=this.A=this.G=null};g.U=function(a){this.H=a;this.g=(this.g|2)&-2049;this.B<a&&this.g&16384&&ha(this.j,a)};g.V=function(a){var b=this.u;this.u=a;this.g=(this.g|4)&-51;b<a&&this.g&16384&&ia(this.j,a)};g.S=function(a){this.B=a;this.g=(this.g|16)&-2049;this.H<a&&this.g&16384&&ha(this.j,a)};g.T=function(a){this.u=a;this.g=(this.g|32)&-17;m(w,this);this.g&16384&&ia(this.j,a)};g.C= function(){this.o()};g.J=function(a){this.u=a;a=this.g;var b=x.s,c=x.l,d=x.m;this.g=(a|1024)&-2099;x.l=x.m=null;!(a&65536)&&a&49152&&D(this,!1);a&196608&&(a&131072&&K(this,!1),x.m=this);b&&(z(),x.s=!1);x.l=this;try{this.C(),!b||0===t.i&&0===r.i||C()}finally{this.g&=-66561,x.s=b,x.l=c,x.m=d,this.g&768||this.P()}};function N(a,b,c){c=65568|c;null!=b&&b.unstable&&(c|=131072);this.g=c;this.h=void 0;this.D=null;this.O=-1;this.F=this.l=this.I=this.v=null;this.R=0;this.G=this.A=null;this.H=this.B=this.u= 0;this.M=void 0;this.o=a;null!==x.l&&da(this)}y(N,F);g=N.prototype;g.peek=function(){var a=this.g;!(a&5)&&a&1074&&L(this,q);return this.h};g.val=function(){var a=this.g;if(!(a&5)){a&1074&&L(this,q);var b;this.g&13||null===(b=x.m)||A(this,b)}return this.h};g.L=function(){var a=this.g;1!==a&&(this.h=this.o=this.M=null,a&192&&I(this),a&768&&K(this,!0),this.g=1)};g.P=function(){this.g&192&&I(this);this.o=this.M=null};g.C=function(){this.h=this.o()};g.J=function(a){this.u=a;var b=this.g,c=x.s,d=x.l,e= x.m;x.l=x.m=null;this.g=(this.g|1024)&-2099;b&196608&&(b&131072&&K(this,!1),x.m=this);var f=this.h;c&&(z(),x.s=!1);try{this.C(),b&192&&f!==this.h&&(J(this,a),0!==n.i&&ba(a)),!c||0===t.i&&0===r.i||C()}finally{this.g&=-66561,x.s=c,x.l=d,x.m=e,this.g&768||this.P()}};g.V=function(a){this.u=a;this.g=(this.g|4)&-51};g.U=function(a){this.H=a;this.g=(this.g|2)&-2049};g.S=function(a){this.B=a;this.g=(this.g|16)&-2049;this.g&192&&m(n,this)};g.T=function(a){this.u=a;this.g=(this.g|32)&-2065;this.g&192&&(m(u, this),this.B<a&&m(n,this))};function O(a,b){var c=0;void 0!==b&&(c=null===b?c|4096:c|8192);this.g=c;this.h=a;this.j=p;this.M=b;this.D=null;this.O=-1;this.I=this.v=null}y(O,F);g=O.prototype;g.val=function(){var a;this.g&13||null===(a=x.m)||A(this,a);return this.h};g.set=function(a){var b=this.g;if(!(b&9)&&(b&4096||(b&8192?!this.M(a,this.h):a!==this.h)))if(x.s)this.h=a,b&192&&(z(),J(this,q+1),B());else if(this.j===p)this.j=a,this.g|=32,m(t,this);else if(a!==this.j)throw Error("Conflicting values"); };g.L=function(){1!==this.g&&(I(this),this.h=this.j=null,this.g=1)};g.C=function(){this.h=this.j;this.j=p;this.g&=-33};g.J=function(a){this.C();J(this,a)};return{root:function(a){return new H(a)},data:function(a){return new O(a,null)},value:function(a,b){return new O(a,b)},compute:function(a,b){return new N(a,b)},effect:function(a,b){a=new M(a,b);a.J(q);return a},batch:function(a){x.s?(x.s=!1,z(),a(),B()):a()},sample:function(a){var b= x.m;x.m=null;a=a();x.m=b;return a},cleanup:function(a){if(null!==x.l){var b=x.l;b.g|=32768;null===b.K?b.K=[a]:b.K.push(a)}},stable:function(){null!==x.l&&(x.l.g&=-131073)},Root:H,Data:O,Effect:M,Compute:N,F:F,y:y,N:N,A:A,M:M,q:q,O:O,x:x,z:z,J:J,B:B,m:m,t:t}})();