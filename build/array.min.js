(function($){var E=$.E,x=$.x,L=$.L,z=$.z,w=$.w,F=$.F,M=$.M,y=$.y,H=$.H,p=$.p,A=$.A,h=$.h,r=$.r;var N;function fa(a,b){for(var c in b.prototype)a.prototype[c]=b.prototype[c]}var O=Array.prototype;function P(a){switch(typeof a){case "function":return 3;case "object":if(null!==a&&a instanceof E)return 2}return 1}function Q(a,b){switch(b){case 3:return a();case 2:return a.val()}return a}function ha(a,b,c,d){this.m=a;this.i=b||1;this.T=c;this.h=d||1}function R(a){return Q(a.m,a.i)}function S(a){return Q(a.T,a.h)}function T(){}x(T,E);N=T.prototype; N.length=function(){return this.val().length};function ia(a,b,c){b=R(c);return a.at(b)}N.at=function(a){return new U(this,ia,a,P(a))};function ja(a){return a.slice()}function ka(a,b,c){if(4===c.i){b=R(c);c=b.length;for(var d=Array(c),e=0;e<c;e++){var k=b[e];d[e]=Q(k,P(k))}return O.concat.apply(a,d)}return a.concat(R(c))}N.concat=function(a){var b=arguments.length;switch(b){case 0:return new V(this,ja);case 1:return new V(this,ka,a,P(a))}for(var c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return new V(this, ka,c,4)};function la(a,b,c){b=R(c);return a.every(b)}N.every=function(a){return new U(this,la,a)};function ma(a,b,c){b=R(c);return a.filter(b)}N.filter=function(a){return new V(this,ma,a)};function na(a,b,c){b=R(c);return a.find(b)}N.find=function(a){return new U(this,na,a)};function oa(a,b,c){b=R(c);return a.findIndex(b)}N.findIndex=function(a){return new U(this,oa,a)};function pa(a,b,c){b=R(c);return a.findLast(b)}N.findLast=function(a){return new U(this,pa,a)};function qa(a,b,c){b=R(c);return a.findLastIndex(b)} N.findLastIndex=function(a){return new U(this,qa,a)};function ra(a,b,c){b=R(c);a.forEach(b)}N.forEach=function(a){return new U(this,ra,a)};function sa(a,b,c){b=R(c);return a.includes(b)}N.includes=function(a){return new U(this,sa,a,P(a))};function ta(a,b,c){b=R(c);c=S(c);return a.indexOf(b,c)}N.indexOf=function(a,b){return new U(this,ta,a,P(a),b,P(a))};function ua(a,b,c){b=R(c);return a.join(b)}N.join=function(a){return new U(this,ua,a,P(a))};function va(a,b,c){b=R(c);c=S(c);return a.lastIndexOf(b, c)}N.lastIndexOf=function(a,b){return new U(this,va,a,P(a),b,P(b))};function wa(a,b,c){b=R(c);return a.map(b)}N.map=function(a,b){return new W(this,wa,a,1,b,P(b))};function xa(a,b,c){b=R(c);if(0===c.h)return a.reduce(b);c=S(c);return a.reduce(b,c)}N.reduce=function(a,b){return new U(this,xa,a,1,b,2>arguments.length?0:P(b))};function ya(a,b,c){b=R(c);if(0===c.h)return a.reduceRight(b);c=S(c);return a.reduceRight(b,c)}N.reduceRight=function(a,b){return new U(this,ya,a,1,b,2>arguments.length?0:P(b))}; function za(a,b,c){b=R(c);c=S(c);return a.slice(b,c)}N.slice=function(a,b){return new V(this,za,a,P(a),b,P(b))};function Aa(a,b,c){b=R(c);return a.some(b)}N.some=function(a){return new U(this,Aa,a)};function U(a,b,c,d,e,k){L.call(this,b);this.m=new ha(c,d,e,k);z(a,this)}x(U,L);U.prototype.C=function(){this.h=this.i(this.A.peek(),this.h,this.m)};function V(a,b,c,d,e,k){this.g=327712;this.h=[];this.G=null;this.N=-1;this.A=this.j=this.I=this.v=null;this.F=this.B=this.u=this.O=0;this.i=b;b=w.j;if(null!== b){b.g|=16384;var m=b.h;null===m?b.h=[this]:m[m.length]=this}this.m=new ha(c,d,e,k);z(a,this)}x(V,T);fa(V,L);V.prototype.C=function(){this.h=this.i(this.A.peek(),this.h,this.m)};x(function(){this.g=0;this.m=this.h=null},F);function W(a,b,c,d,e,k){V.call(this,a,b,c,d,e,k);this.T=[]}x(W,V);W.prototype.C=function(){this.h=this.i(this.A.peek(),this.h,this.m,this.T)};function X(){this.D=0;this.r=this.n=this.K=-1;this.d=null}X.prototype.add=function(a,b,c,d,e){if(0===this.D)this.D=a,this.d=e,this.K=b|| -1,this.r=c||-1,this.n=d||-1;else if(this.D&131072&&a&131072)this.D&262144?this.d.push(e):(this.D|=262144,this.d=[this.d,e]);else throw Error("Conflicting mutation");};X.prototype.reset=function(){this.D=0;this.K=this.n=this.r=-1;this.d=null};function Y(a){M.call(this,a||[]);this.m=new X;this.i=new X}x(Y,T);fa(Y,M);function Z(a,b,c,d,e,k){a.g&9||(a.m.add(b,c,d,e,k),w.o?(a.C(),a.g&192&&(y(),H(a,p+1),A())):(a.g|=32,h(r,a)))}N=Y.prototype;N.C=function(){var a=this.m,b=a.D,c=a.d,d=this.h;switch(b&1023){case 1:this.h= c;break;case 2:d.pop();break;case 3:b&2048?O.push.apply(d,c):d.push(c);break;case 4:d.reverse();break;case 5:d.shift();break;case 6:d.sort(c);break;case 7:b&2048?O.splice.apply(d,c):b&1024?d.splice(a.K,a.r,c):d.splice(a.K,a.r);break;case 8:b&2048?(console.log(c,typeof c),O.unshift.apply(d,c)):d.unshift(c);break;case 11:b&262144?c.forEach(function(e){d=e(d)}):d=c(d),this.h=d}this.i.D=a.D;this.i.K=a.K;this.i.r=a.r;this.i.n=a.n;a.reset()};N.set=function(a){Z(this,65537,-1,-1,-1,a)};N.modify=function(a){Z(this, 131083,-1,-1,-1,a)};N.pop=function(){Z(this,4098,this.h.length-1,1,0)};N.push=function(a){var b=arguments.length;if(0<b){if(1===b){var c=a;var d=1024}else{c=Array(b);for(d=0;d<b;d++)c[d]=arguments[d];d=2048}Z(this,3|d,this.h.length,0,b,c)}};N.reverse=function(){Z(this,32772)};N.shift=function(){Z(this,4101,0,1,0)};N.sort=function(a){Z(this,16390,void 0,0,0,a)};N.splice=function(a,b,c){var d=arguments.length;if(1<d){var e=0;null==b||0>b?b=0:0<b&&(e=1<b?e|8192:e|4096);if(2<d)if(3===d){var k=c;e|=1024}else{k= Array(d);for(var m=0;m<d;m++)k[m]=arguments[m];e|=2048}0!==e&&Z(this,7|e,a,b,d-2,k)}};N.unshift=function(a){var b=arguments.length;if(0<b){if(1===b){var c=a;var d=1024}else{c=Array(b);for(d=0;d<b;d++)c[d]=arguments[d];d=2048}Z(this,8|d,0,0,b,c)}};$.array=function(a){return new Y(a)};$.DataArray=Y;$.ComputeReduce=U;$.ComputeArray=V;$.ComputeMapArray=W})(anod);