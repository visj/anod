(function($){var E=$.E,x=$.x,F=$.F,L=$.L,z=$.z,M=$.M,w=$.w,y=$.y,H=$.H,n=$.n,A=$.A,h=$.h,r=$.r;var N;function fa(a,b){for(var c in b.prototype)a.prototype[c]=b.prototype[c]}var O=Array.prototype;function P(a){switch(typeof a){case "function":return 3;case "object":if(null!==a&&a instanceof E)return 2}return 1}function Q(a,b){switch(b){case 3:return a();case 2:return a.val()}return a}function R(a,b,c,d){this.m=a;this.i=b||1;this.Y=c;this.h=d||1}function S(a){return Q(a.m,a.i)}function T(a){return Q(a.Y,a.h)}x(function(){this.g=0;this.J=this.m= this.h=null},F);function U(){}x(U,E);N=U.prototype;N.length=function(){return this.val().length};function ha(a,b,c){a=a.peek();c=S(c);return a.at(c)}N.at=function(a){return new V(this,ha,a,P(a))};function ia(a){return a.peek().slice()}function ja(a,b,c){a=a.peek();if(4===c.i){c=S(c);b=c.length;for(var d=Array(b),e=0;e<b;e++){var k=c[e];d[e]=Q(k,P(k))}return O.concat.apply(a,d)}return a.concat(S(c))}N.concat=function(a){var b=arguments.length;if(0===b)return new W(this,ia);if(1===b)return new W(this, ja,a,P(a));for(var c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return new W(this,ja,c,4)};function ka(a,b,c){a=a.peek();c=S(c);return a.every(c)}N.every=function(a){return new V(this,ka,a)};function la(a,b,c){a=a.peek();c=S(c);return a.filter(c)}N.filter=function(a){return new W(this,la,a)};function ma(a,b,c){a=a.peek();c=S(c);return a.find(c)}N.find=function(a){return new V(this,ma,a)};function na(a,b,c){a=a.peek();c=S(c);return a.findIndex(c)}N.findIndex=function(a){return new V(this,na,a)};function oa(a, b,c){a=a.peek();c=S(c);return a.findLast(c)}N.findLast=function(a){return new V(this,oa,a)};function pa(a,b,c){a=a.peek();c=S(c);return a.findLastIndex(c)}N.findLastIndex=function(a){return new V(this,pa,a)};function qa(a,b,c){a=a.peek();c=S(c);a.forEach(c)}N.forEach=function(a){return new V(this,qa,a)};function ra(a,b,c){a=a.peek();c=S(c);return a.includes(c)}N.includes=function(a){return new V(this,ra,a,P(a))};function sa(a,b,c){a=a.peek();b=S(c);c=T(c);return a.indexOf(b,c)}N.indexOf=function(a, b){return new V(this,sa,a,P(a),b,P(a))};function ta(a,b,c){a=a.peek();c=S(c);return a.join(c)}N.join=function(a){return new V(this,ta,a,P(a))};function ua(a,b,c){a=a.peek();b=S(c);c=T(c);return a.lastIndexOf(b,c)}N.lastIndexOf=function(a,b){return new V(this,ua,a,P(a),b,P(b))};function va(a,b,c,d){a=b.peek();d=S(d);return a.map(d)}N.map=function(a,b){return new wa(this,va,a,1,b,P(b))};function xa(a,b,c){a=a.peek();b=S(c);if(0===c.h)return a.reduce(b);c=T(c);return a.reduce(b,c)}N.reduce=function(a, b){return new V(this,xa,a,1,b,2>arguments.length?0:P(b))};function ya(a,b,c){a=a.peek();b=S(c);if(0===c.h)return a.reduceRight(b);c=T(c);return a.reduceRight(b,c)}N.reduceRight=function(a,b){return new V(this,ya,a,1,b,2>arguments.length?0:P(b))};function za(a,b,c){a=a.peek();b=S(c);c=T(c);return a.slice(b,c)}N.slice=function(a,b){return new W(this,za,a,P(a),b,P(b))};function Aa(a,b,c){a=a.peek();c=S(c);return a.some(c)}N.some=function(a){return new V(this,Aa,a)};function V(a,b,c,d,e,k){L.call(this, b);this.m=new R(c,d,e,k);z(a,this)}x(V,L);V.prototype.C=function(){this.h=this.i(this.D,this.h,this.m)};function W(a,b,c,d,e,k){L.call(this,b);this.h=[];this.m=new R(c,d,e,k);z(a,this)}x(W,U);fa(W,L);W.prototype.C=function(){this.h=this.i(this.D,this.h,this.m)};function wa(a,b,c,d,e,k){L.call(this,b);this.h=[];this.m=new R(c,d,e,k);z(a,this)}x(wa,W);function X(){this.F=0;this.L=this.R=this.J=-1;this.o=null}X.prototype.add=function(a,b,c,d,e){if(0===this.F)this.F=a,this.o=e,this.J=b||-1,this.L=c|| -1,this.R=d||-1;else if(this.F&131072&&a&131072)this.F|=262144,3===P(this.o)?this.o=[this.o,e]:this.o.push(e);else throw Error("Conflicting mutation");};X.prototype.reset=function(){this.F=0;this.J=this.R=this.L=-1;this.o=null};function Y(a){M.call(this,a||[]);this.m=new X;this.i=new X}x(Y,U);fa(Y,M);function Z(a,b,c,d,e,k){a.g&9||(a.m.add(b,c,d,e,k),w.s?(a.C(),a.g&192&&(y(),H(a,n+1),A())):(a.g|=32,h(r,a)))}N=Y.prototype;N.C=function(){var a=this.m,b=a.F,c=this.h;switch(b&1023){case 1:this.h=a.o; break;case 2:c.pop();break;case 3:b&2048?O.push.apply(c,a.o):c.push(a.o);break;case 4:c.reverse();break;case 5:c.shift();break;case 6:c.sort(a.o);break;case 7:b&2048?O.splice.apply(c,a.o):b&1024?c.splice(a.J,a.L,a.o):c.splice(a.J,a.L);break;case 8:b&2048?O.unshift.apply(c,a.o):c.unshift(a.o);break;case 11:b&262144?a.o.forEach(function(d){c=d(c)}):c=a.o(c),this.h=c}this.i.F=a.F;this.i.J=a.J;this.i.L=a.L;this.i.R=a.R;a.reset()};N.set=function(a){Z(this,65537,-1,-1,-1,a)};N.modify=function(a){Z(this, 131083,-1,-1,-1,a)};N.pop=function(){Z(this,4098,this.h.length-1,1,0)};N.push=function(a){var b=arguments.length;if(0<b){if(1===b){var c=a;var d=1024}else{c=Array(b);for(d=0;d<b;d++)c[d]=arguments[d];d=2048}Z(this,3|d,this.h.length,0,b,c)}};N.reverse=function(){Z(this,32772)};N.shift=function(){Z(this,4101,0,1,0)};N.sort=function(a){Z(this,16390,void 0,0,0,a)};N.splice=function(a,b,c){var d=arguments.length;if(1<d){var e=0;null==b||0>b?b=0:0<b&&(e=1<b?e|8192:e|4096);if(2<d)if(3===d){var k=c;e|=1024}else{k= Array(d);for(var p=0;p<d;p++)k[p]=arguments[p];e|=2048}0!==e&&Z(this,7|e,a,b,d-2,k)}};N.unshift=function(a){var b=arguments.length;if(0<b){if(1===b){var c=a;var d=1024}else{c=Array(b);for(d=0;d<b;d++)c[d]=arguments[d];d=2048}Z(this,8|d,0,0,b,c)}};$.array=function(a){return new Y(a)};$.DataArray=Y;$.ComputeReduce=V;$.ComputeArray=W})(anod);